<section>
  <h2>🔎 Debug: Raw Location</h2>
  <pre>{{ location$$() | json }}</pre>
</section>

@if (userCanCheckIn$$()) {
  <section>
    <h2>Check-in to the {{ closestPub$$()?.name }}</h2>
    <button>Check-in</button>
  </section>
}

<section class="nearest-pubs">
  <h2>📍 Nearest pubs ({{ nearestPubs$$().length }})</h2>

  @if (nearestPubs$$().length) {
    <ul>
      @for (pub of nearestPubs$$(); track pub.id) {
        <li>{{ pub.name }} ({{ pub.distance.toFixed(0) }}m away)</li>
      }
    </ul>
  } @else {
    <p>📡 Trying to find pubs near you...</p>
  }
</section>

<section>
  <h2>🏘️ Debug: All pubs ({{ allPubs$$().length }})</h2>
  <ul>
    <li *ngFor="let pub of allPubs$$()">
      {{ pub.name }} – {{ pub.location.city }}, {{ pub.location.country }}
    </li>
  </ul>
</section>

<section>
  <h2>📏 Debug: Calculated Distances</h2>
  <ul>
    <li *ngFor="let dist of distances$$()">
      {{ dist[0] }} – {{ dist[1] | number:'1.0-0' }}m
    </li>
  </ul>
</section>



<hr />

<app-pub-list />
