<div class="home-container">

<!--
  <app-user-profile-widget
  [user]="user()"
  (openProfile)="handleOpenProfile()" /> -->

    <!-- âœ… Onboarding Hint -->
    <!-- @if (isNewUser()) {
      <div class="onboarding-hint">
        <span class="hint-icon">ğŸ’¡</span>
        <span class="hint-text">
          Onboarding message.
        </span>
      </div>
    } -->

  <!-- Original scoreboard-hero component -->
  <!-- <app-scoreboard-hero [data]="scoreboardData()" /> -->

  <!-- âœ… PRIORITY 1: Critical above-fold widgets (load immediately) -->
  <app-scoreboard-hero-widget></app-scoreboard-hero-widget>




  <!-- âœ… PRIORITY 2: Secondary widgets (defer until viewport or after short delay) -->

  @defer (on viewport) {
    <app-nearest-pub></app-nearest-pub>
  } @placeholder (minimum 500ms) {
    <div class="widget-placeholder">
      <div class="placeholder-content">ğŸ“ Loading nearest pubs...</div>
    </div>
  } @loading (minimum 100ms) {
    <div class="widget-placeholder">
      <div class="placeholder-content">ğŸ”„ Finding nearby pubs...</div>
    </div>
  }

  @defer (on viewport) {
    <!-- âœ… Suggested Mission Widget (for new users) -->
    @if (isNewUser()) {
      <app-suggested-mission-widget></app-suggested-mission-widget>
    }
   } @placeholder (minimum 200ms) {
    <div class="widget-placeholder">
      <div class="placeholder-content">ğŸ¯ Loading mission suggestions...</div>
    </div>
  } @loading (minimum 100ms) {
    <div class="widget-placeholder">
      <div class="placeholder-content">ğŸ”„ Preparing missions...</div>
    </div>
  }

  @defer (on viewport) {
    <app-missions-widget></app-missions-widget>
  } @placeholder (minimum 200ms) {
    <div class="widget-placeholder">
      <div class="placeholder-content">ğŸ¯ Loading missions...</div>
    </div>
  } @loading (minimum 100ms) {
    <div class="widget-placeholder">
      <div class="placeholder-content">ğŸ”„ Loading your missions...</div>
    </div>
  }

  <!-- @defer (on viewport) {
    <app-leaderboard-widget></app-leaderboard-widget>
  } @placeholder (minimum 200ms) {
    <div class="widget-placeholder">
      <div class="placeholder-content">ğŸ† Loading leaderboard...</div>
    </div>
  } @loading (minimum 100ms) {
    <div class="widget-placeholder">
      <div class="placeholder-content">ğŸ”„ Fetching rankings...</div>
    </div>
  }

  @defer (on viewport) {
    <app-local-leaderboard-widget></app-local-leaderboard-widget>
  } @placeholder (minimum 200ms) {
    <div class="widget-placeholder">
      <div class="placeholder-content">ğŸ“ Loading local leaderboard...</div>
    </div>
  } @loading (minimum 100ms) {
    <div class="widget-placeholder">
      <div class="placeholder-content">ğŸ”„ Loading local rankings...</div>
    </div>
  } -->

  <!-- âœ… PRIORITY 3: Tertiary widgets (defer with longer delays) -->
  @defer (on viewport) {
    <!-- âœ… Recent Activity Widget -->
    <app-recent-activity-widget></app-recent-activity-widget>
  } @placeholder (minimum 200ms) {
    <div class="widget-placeholder">
      <div class="placeholder-content">ğŸ“° Loading recent activity...</div>
    </div>
  } @loading (minimum 100ms) {
    <div class="widget-placeholder">
      <div class="placeholder-content">ğŸ”„ Fetching updates...</div>
    </div>
  }

  @defer (on viewport) {
    <!-- âœ… Carpet Widget -->
    <app-carpet-widget></app-carpet-widget>
  } @placeholder (minimum 200ms) {
    <div class="widget-placeholder">
      <div class="placeholder-content">ğŸ”¸ Loading carpet collection...</div>
    </div>
  } @loading (minimum 100ms) {
    <div class="widget-placeholder">
      <div class="placeholder-content">ğŸ”„ Loading carpets...</div>
    </div>
  }

  @defer (on viewport) {
    <!-- âœ… Badges Widget -->
    <app-badges-widget></app-badges-widget>
  } @placeholder (minimum 200ms) {
    <div class="widget-placeholder">
      <div class="placeholder-content">ğŸ… Loading badges...</div>
    </div>
  } @loading (minimum 100ms) {
    <div class="widget-placeholder">
      <div class="placeholder-content">ğŸ”„ Loading achievements...</div>
    </div>
  }


  <!-- âœ… Action Cards -->
  <!-- <app-action-cards
    [showStartMission]="activeMissions().length === 0"
    (startMission)="handleStartMission()"
    (openGuide)="handleOpenGuide()"
    (openSettings)="handleOpenSettings()" /> -->



  <!-- âœ… Development Debug Section -->
  <!-- @if (isDevelopment()) {
    <details class="debug-section">
      <summary>ğŸ› Debug Information</summary>
      <div class="debug-grid">
        <div class="debug-item">
          <h4>User State</h4>
          <pre>{{ debugUserInfo() | json }}</pre>
        </div>
        <div class="debug-item">
          <h4>Stores Status</h4>
          <pre>{{ debugStoresInfo() | json }}</pre>
        </div>
      </div>
    </details>
  } -->
</div>
