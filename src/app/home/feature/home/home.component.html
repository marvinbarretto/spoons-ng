<app-status></app-status>

@if (userCanCheckIn$$()) {
  <app-check-in [closestPub]="closestPub$$()" />
}

<section class="nearest-pubs">
  <h2>ğŸ“ Nearest pubs ({{ nearestPubs$$().length }})</h2>

  @if (nearestPubs$$().length) {
    <ul>
      @for (pub of nearestPubs$$(); track pub.id) {
        <li>{{ pub.name }} ({{ pub.distance.toFixed(0) }}m away)</li>
      }
    </ul>
  } @else {
    <p>ğŸ“¡ Trying to find pubs near you...</p>
  }
</section>

<section>
  <h2>ğŸ“ Debug: Calculated Distances</h2>
  <ul>
    <li *ngFor="let dist of distances$$()">
      {{ dist[0] }} â€“ {{ dist[1] | number:'1.0-0' }}m
    </li>
  </ul>
</section>



<hr />

<app-pub-list />
