<!-- Updated HeaderComponent template -->
<div class="site-header" #headerRef>
  <ng-container *ngIf="!isHomepage(); else titleWithoutLink">
    <a routerLink="/" class="header__title">
      <h1>Spooncount <small>{{version}}</small></h1>
    </a>
  </ng-container>
  <ng-template #titleWithoutLink>
    <h1 class="header__title">Spooncount <small>{{version}}</small></h1>
  </ng-template>

  <!-- ✅ SIMPLIFIED NAVIGATION STRATEGY:
       Desktop: Show horizontal nav in header
       Mobile:  Only FooterNavComponent (no hamburger menu needed)
  -->
  <nav class="main-nav"  *ngIf="!isMobile()">
    <!-- ✅ Desktop Navigation: Horizontal nav links -->
    <app-nav  />

    <!-- ✅ Utility Actions (both desktop & mobile) -->
    <div class="main-nav__actions">
      <button
        *ngIf="'theme' | featureFlag"
        #panelTrigger
        aria-expanded="true"
        (click)="onTogglePanel('theme')"
        class="theme-link"
      >
        🎨 Theme
      </button>

      <button
        *ngIf="'search' | featureFlag"
        #panelTrigger
        aria-expanded="true"
        (click)="onTogglePanel('search')"
        class="search-link"
      >
        🔍 Search
      </button>
    </div>

    <!-- ❌ REMOVED: Mobile hamburger menu (FooterNavComponent handles mobile nav) -->
  </nav>
</div>
