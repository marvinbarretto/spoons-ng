<div class="nav-container">

  <!-- Main Navigation - Desktop only (mobile uses footer-nav) -->
  <nav class="nav-menu">
    <ul class="menu-list">
      <li routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }">
        <a routerLink="/">Home</a>
      </li>
      <li routerLinkActive="active" [routerLinkActiveOptions]="{ exact: false }">
        <a routerLink="/pubs">Pubs</a>
      </li>
      <li routerLinkActive="active" [routerLinkActiveOptions]="{ exact: false }">
        <a routerLink="/missions">Missions</a>
      </li>
      <li routerLinkActive="active" [routerLinkActiveOptions]="{ exact: false }">
        <a routerLink="/admin">Admin</a>
      </li>
      <li routerLinkActive="active" [routerLinkActiveOptions]="{ exact: false }">
        <a routerLink="/new-leaderboard">New Leaderboard</a>
      </li>
      <li routerLinkActive="active" [routerLinkActiveOptions]="{ exact: false }">
        <a routerLink="/share">Share</a>
      </li>
    </ul>
  </nav>

  <!-- User & Status Section - Always visible -->
  <div class="nav-header">
    @if (userChipData()) {
      <app-chip-user
        [user]="userChipData()!"
        [size]="isMobile() ? 'sm' : 'md'"
        [showName]="true"
        [clickable]="false"
        variant="default"
      />
          <!-- <app-user-profile-widget
      [user]="dataAggregatorService.user()"
      (openProfile)="onOpenProfile()"
      class="profile-widget" /> -->
    } @else {
      <div class="guest-user">
        <span class="guest-label">Guest</span>
        <app-button
          [variant]="ButtonVariant.SECONDARY"
          [size]="isMobile() ? ButtonSize.SMALL : ButtonSize.MEDIUM"
          (onClick)="login()"
        >
          Login
        </app-button>
      </div>
    }

    <!-- Location Status & Auth Actions -->
    <div class="nav-actions">
      <!-- Simple Location Status Indicator -->
      <div class="location-status" [title]="hasLocation() ? 'Location available' : 'No location access'">
        <span class="location-dot" [class.has-location]="hasLocation()"></span>
      </div>

      @if (isAuthenticated()) {
        <app-button
          [variant]="ButtonVariant.DANGER"
          [size]="isMobile() ? ButtonSize.SMALL : ButtonSize.MEDIUM"
          (onClick)="logout()"
        >
          Logout
        </app-button>
      }
    </div>
  </div>

</div>
